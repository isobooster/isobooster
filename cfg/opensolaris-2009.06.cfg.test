# OpenSolaris
#  http://opensolaris.org/
#  User: jack, password: jack
#  User: root, password: opensolaris

ISOFILE=osol-0906-x86.iso
URL=http://dlc.sun.com/osol/opensolaris/2009/06/$ISOFILE
MD5=86e19c89a30c9b91cbb096a758dea737
VER=2009.06

#install
prepareiso $ISOFILE $URL
checksum /iso/$ISOFILE $MD5
copyfromiso /platform/i86pc/kernel/unix /boot/opensolaris/unix-${VER}
copyfromiso /boot/x86.microroot /boot/opensolaris/x86.microroot-${VER}.gz

#remove
rmfile /boot/opensolaris/unix-${VER}
rmfile /boot/opensolaris/x86.microroot-${VER}.gz
purgefile /iso/$ISOFILE

#menu
menuentry "OpenSolaris ${VER}" {
  savedefault
#  loopback loop /iso/$ISOFILE
  echo "Loading kernel.."
#  multiboot (loop)/platform/i86pc/kernel/unix
  multiboot /boot/opensolaris/unix-${VER}
  echo "Loading microroot.."
#  initrd (loop)/boot/x86.microroot
  initrd /boot/opensolaris/x86.microroot-mod-${VER}.gz
}
